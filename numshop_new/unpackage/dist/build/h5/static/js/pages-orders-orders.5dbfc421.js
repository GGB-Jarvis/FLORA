(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orders-orders"],{"0657":function(t,i,a){"use strict";a.r(i);var n=a("9483"),e=a("0894");for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);a("31eb");var o,r=a("f0c5"),c=Object(r["a"])(e["default"],n["b"],n["c"],!1,null,"9b75694c",null,!1,n["a"],o);i["default"]=c.exports},"0894":function(t,i,a){"use strict";a.r(i);var n=a("b6a9"),e=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);i["default"]=e.a},"31eb":function(t,i,a){"use strict";var n=a("d74c"),e=a.n(n);e.a},9483:function(t,i,a){"use strict";var n;a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return n}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"nav"},[a("v-uni-view",{class:{active:3==t.status,noactive:3!=t.status},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeStatus(3)}}},[t._v("全部")]),a("v-uni-view",{class:{active:1==t.status,noactive:1!=t.status},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeStatus(1)}}},[t._v("待付款")]),a("v-uni-view",{class:{active:2==t.status,noactive:2!=t.status},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeStatus(2)}}},[t._v("已完成")])],1),0==t.orders.length?a("v-uni-view",{staticClass:"noOrder"},[t._v("暂无相关订单")]):a("v-uni-view",t._l(t.orders,(function(i){return a("v-uni-view",{key:i.id,staticClass:"item"},[a("v-uni-view",{staticClass:"status"},[t._v("交易"+t._s(i.status))]),a("v-uni-view",{staticClass:"middle"},[a("v-uni-image",{attrs:{mode:"aspectFit",src:i.list[0].product.imageurl}}),a("v-uni-view",{staticClass:"name"},[t._v(t._s(i.list[0].product.name))]),a("v-uni-view",{staticClass:"types"},[t._v(t._s(i.list[0].product.tag))]),a("v-uni-view",{staticClass:"price"},[a("v-uni-view",{staticClass:"left"},[t._v("¥"+t._s(i.list[0].product.reserved))]),a("v-uni-view",{staticClass:"right"},[t._v("X"+t._s(i.list.length))])],1)],1),a("v-uni-view",{staticClass:"clear"}),a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticClass:"f-text"},[t._v("共"+t._s(i.list.length)+"件商品  合计¥"+t._s(i.list.length*i.list[0].product.reserved))]),"待支付"==i.status?a("v-uni-view",{staticClass:"del",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.del(i.id)}}},[t._v("删除订单")]):t._e(),"待支付"==i.status?a("v-uni-view",{staticClass:"pay",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.pay(i.id,i.list[0].product.id,i.list.length)}}},[t._v("付款")]):t._e(),"已完成"==i.status?a("v-uni-view",{staticClass:"pay",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.again(i.list[0].product.id)}}},[t._v("再次购买")]):t._e()],1)],1)})),1),a("v-uni-view",{staticClass:"bottom"})],1)},s=[]},b6a9:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{status:3,orders:[],userInfo:{}}},onLoad:function(t){var i=t.status?t.status:3;this.status=i},onShow:function(){var t=uni.getStorageSync("userInfoObj");if(!t)return uni.showToast({title:"请登录",duration:1e3}),void setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1e3);this.userInfo=t,this.loadOrders()},methods:{pay:function(t,i,a){this.$api.loadProductById({id:i}).then((function(i){i.count<a?uni.showToast({title:"商品库存不足",icon:"none"}):uni.navigateTo({url:"/pages/pay/pay?id="+t})}))},again:function(t){uni.navigateTo({url:"/pages/detail/detail?id="+t})},del:function(t){var i=this;uni.showModal({title:"取消订单",content:"确定取消此订单？",success:function(a){a.confirm?i.$api.deleteOrder({id:t}).then((function(t){1==t&&(uni.showToast({title:"取消成功",duration:1e3}),i.loadOrders())})):a.cancel}})},changeStatus:function(t){this.status=t,this.loadOrders()},loadOrders:function(){var t=this,i=this.status,a=1==i?"待支付":2==i?"已完成":"";this.$api.loadOrders({userid:t.userInfo.id,status:a}).then((function(i){t.orders=i}))}}};i.default=n},d74c:function(t,i,a){var n=a("dc2d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=a("4f06").default;e("7a381b2b",n,!0,{sourceMap:!1,shadowMode:!1})},dc2d:function(t,i,a){var n=a("24fb");i=n(!1),i.push([t.i,"uni-page-body[data-v-9b75694c]{background-image:linear-gradient(#091323,#243242)}.noOrder[data-v-9b75694c]{width:%?690?%;height:%?100?%;text-align:center;line-height:%?100?%;font-size:%?30?%;font-weight:700;color:#8fa9c7;background:#35475d;border-radius:%?20?%;margin:%?30?%}.bottom[data-v-9b75694c]{height:%?50?%}.pay[data-v-9b75694c]{float:right;background:#8fa9c7;border-radius:%?10?%;padding:%?10?% %?20?%;margin-right:%?20?%;font-size:%?26?%;font-family:SourceHanSansSC;font-weight:400;color:#162232}.del[data-v-9b75694c]{float:right;border:%?1?% solid #8fa9c7;border-radius:%?10?%;padding:%?10?% %?20?%;font-size:%?26?%;font-family:SourceHanSansSC;font-weight:400;color:#8fa9c7;margin-right:%?20?%}.f-text[data-v-9b75694c]{float:left;font-size:%?20?%;font-family:Adobe Heiti Std;font-weight:400;color:#6e88a6;margin-left:%?22?%;margin-top:%?28?%}.status[data-v-9b75694c]{font-size:%?26?%;font-family:SourceHanSansSC;font-weight:400;color:#8fa9c7;padding-top:%?24?%;margin-left:%?22?%;margin-bottom:%?24?%}.clear[data-v-9b75694c]{clear:both}.types[data-v-9b75694c]{width:%?464?%;margin-left:%?26?%;font-size:%?20?%;font-family:Adobe Heiti Std;font-weight:400;color:#6e88a6}.name[data-v-9b75694c]{width:%?464?%;margin-left:%?26?%;font-size:%?32?%;font-family:SourceHanSansSC;font-weight:700;color:#8fa9c7;margin-top:%?20?%}.price[data-v-9b75694c]{width:%?464?%;margin-left:%?26?%;font-size:%?30?%;font-family:SourceHanSansSC;font-weight:700;color:#6e88a6}.right[data-v-9b75694c]{float:right!important;font-size:%?20?%;margin-right:%?24?%}.middle uni-view[data-v-9b75694c]{float:left}.middle uni-image[data-v-9b75694c]{float:left;width:%?180?%;height:%?180?%;border-radius:%?20?%;margin-left:%?20?%}.item[data-v-9b75694c]{width:%?690?%;height:%?376?%;background:#35475d;border-radius:%?20?%;margin:%?30?%}.nav[data-v-9b75694c]{width:%?750?%;height:%?100?%;background:#35475d;display:flex}.noactive[data-v-9b75694c]{font-size:%?28?%;font-family:SourceHanSansSC;font-weight:400;color:#6e88a6;height:%?100?%;line-height:%?100?%;width:33%;text-align:center}.active[data-v-9b75694c]{font-size:%?28?%;font-family:SourceHanSansSC;height:%?94?%;line-height:%?100?%;width:33%;text-align:center;font-weight:700;color:#bac9d9;border-bottom:%?6?% solid #bac9d9}body.?%PAGE?%[data-v-9b75694c]{background-image:linear-gradient(#091323,#243242)}",""]),t.exports=i}}]);