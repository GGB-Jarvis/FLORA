(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-authentication-authentication"],{"2b18":function(t,n,a){var e=a("24fb");n=e(!1),n.push([t.i,"uni-page-body[data-v-6f95a214]{background-image:linear-gradient(#091323,#243242)}.a-text[data-v-6f95a214]{font-size:%?24?%;font-family:SourceHanSansSC;font-weight:400;color:#8fa9c7;text-align:center;margin-top:%?46?%}.a-button[data-v-6f95a214]{width:%?473?%;height:%?88?%;background:#8fa9c7;border-radius:%?10?%;line-height:%?88?%;text-align:center;margin-left:auto;margin-right:auto;margin-top:%?40?%;font-size:%?30?%;color:#162232}.form-p[data-v-6f95a214]{color:#8fa9c7;font-family:SourceHanSansSC}.form uni-input[data-v-6f95a214]{width:%?620?%;height:%?98?%;border:%?1?% solid #49627e;border-radius:%?20?%;margin-left:auto;margin-right:auto;color:#8fa9c7;font-size:%?32?%;padding-left:%?26?%;margin-top:%?34?%;font-family:SourceHanSansSC}.ts[data-v-6f95a214]{width:%?598?%;font-size:%?30?%;font-family:SourceHanSansSC;font-weight:400;color:#8fa9c7;margin-left:%?46?%;margin-top:%?36?%}.title[data-v-6f95a214]{font-size:%?36?%;font-family:SourceHanSansSC;font-weight:700;color:#8fa9c7;text-align:center}.content[data-v-6f95a214]{width:%?690?%;height:%?861?%;background:#35475d;border-radius:%?20?%;margin-left:%?30?%;margin-top:%?30?%;padding-top:%?36?%}body.?%PAGE?%[data-v-6f95a214]{background-image:linear-gradient(#091323,#243242)}",""]),t.exports=n},"363f":function(t,n,a){"use strict";a.r(n);var e=a("a8f7"),i=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(n,t,(function(){return e[t]}))}(o);n["default"]=i.a},"3c3e":function(t,n,a){"use strict";var e=a("6430"),i=a.n(e);i.a},"62ed":function(t,n,a){"use strict";var e;a.d(n,"b",(function(){return i})),a.d(n,"c",(function(){return o})),a.d(n,"a",(function(){return e}));var i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",[a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"title"},[t._v("请填写实名认证信息")]),a("v-uni-view",{staticClass:"ts"},[t._v("根据相关法律法规，身份证与账号一一绑定，为保障你的信息安全，请填写您本人的实名信息。请务必填写您本人的真实身份信息，平台将不定期随机抽查，无法证明本人的用户将被限制登录或限制转赠。")]),a("v-uni-view",{staticClass:"form"},[a("v-uni-input",{attrs:{type:"text",placeholder:"姓名","placeholder-class":"form-p",disabled:2==t.userInfo.authentication},model:{value:t.userInfo.name,callback:function(n){t.$set(t.userInfo,"name",n)},expression:"userInfo.name"}}),a("v-uni-input",{attrs:{type:"text",placeholder:"身份证号码","placeholder-class":"form-p",disabled:2==t.userInfo.authentication},model:{value:t.userInfo.cardno,callback:function(n){t.$set(t.userInfo,"cardno",n)},expression:"userInfo.cardno"}})],1),a("v-uni-view",{staticClass:"a-button",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.authentication.apply(void 0,arguments)}}},[t._v("去认证")]),a("v-uni-view",{staticClass:"a-text"},[t._v("信息安全保障中，信息仅用于身份确认")])],1)],1)},o=[]},6430:function(t,n,a){var e=a("2b18");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=a("4f06").default;i("9d421f12",e,!0,{sourceMap:!1,shadowMode:!1})},a8f7:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{userInfo:{name:"",cardno:""}}},onLoad:function(){var t=uni.getStorageSync("userInfoObj");if(!t)return uni.showToast({title:"请登录",icon:"none",duration:1e3}),void setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1e3);this.userInfo=t},methods:{authentication:function(){if(2!=this.userInfo.authentication){var t=this.userInfo.name,n=this.userInfo.cardno,a=this.userInfo.id;if(t){var e=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;if(!e.test(n))return uni.showToast({title:"身份证格式不正确",icon:"error"}),!1;var i=this;this.$api.verification({name:t,idcardno:n,userid:a}).then((function(t){"姓名和身份证号一致"==t.message&&(uni.showToast({title:"认证成功",icon:"success",duration:1e3}),i.$api.loadUserById({id:a}).then((function(t){uni.setStorageSync("userInfoObj",t),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)}))),uni.showToast({title:t.message})}))}else uni.showToast({title:"请输入姓名",icon:"error"})}}}};n.default=e},e7a0:function(t,n,a){"use strict";a.r(n);var e=a("62ed"),i=a("363f");for(var o in i)"default"!==o&&function(t){a.d(n,t,(function(){return i[t]}))}(o);a("3c3e");var r,u=a("f0c5"),s=Object(u["a"])(i["default"],e["b"],e["c"],!1,null,"6f95a214",null,!1,e["a"],r);n["default"]=s.exports}}]);