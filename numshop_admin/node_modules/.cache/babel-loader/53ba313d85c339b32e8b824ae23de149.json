{"remainingRequest":"D:\\asus\\FILE\\2023计算机设计大赛\\项目源码\\numshop_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\asus\\FILE\\2023计算机设计大赛\\项目源码\\numshop_admin\\src\\utils\\http.js","dependencies":[{"path":"D:\\asus\\FILE\\2023计算机设计大赛\\项目源码\\numshop_admin\\src\\utils\\http.js","mtime":1682497781777},{"path":"D:\\asus\\FILE\\2023计算机设计大赛\\项目源码\\numshop_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652280453800},{"path":"D:\\asus\\FILE\\2023计算机设计大赛\\项目源码\\numshop_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1652280461838}],"contextDependencies":[],"result":["import axios from 'axios';\nimport qs from 'qs';\nimport { Message } from 'element-ui';\nimport Vue from 'vue'; // loading框设置局部刷新，且所有请求完成后关闭loading框\n\nvar loading;\n\nfunction startLoading() {\n  loading = Vue.prototype.$loading({\n    lock: true,\n    text: 'Loading...',\n    target: document.querySelector('.loading-area') //设置加载动画区域\n\n  });\n}\n\nfunction endLoading() {\n  loading.close();\n} //声明一个对象用于存储请求个数\n\n\nvar needLoadingRequestCount = 0;\n\nfunction showFullScreenLoading() {\n  if (needLoadingRequestCount === 0) {\n    startLoading();\n  }\n\n  needLoadingRequestCount++;\n}\n\n;\n\nfunction tryHideFullScreenLoading() {\n  if (needLoadingRequestCount <= 0) return;\n  needLoadingRequestCount--;\n\n  if (needLoadingRequestCount === 0) {\n    endLoading();\n  }\n}\n\n; // 超时时间\n\naxios.defaults.timeout = 30000; // 跨域请求，允许保存cookie\n\naxios.defaults.withCredentials = false; //axios.defaults.headers = { 'Content-Type': 'application/json; charset=utf-8' }\n\naxios.defaults.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n\naxios.defaults.transformRequest = function (data) {\n  return qs.stringify(data);\n};\n\naxios.interceptors.request.use(function (config) {\n  showFullScreenLoading();\n  return config;\n}, function (error) {\n  tryHideFullScreenLoading();\n  return Promise.reject(error);\n});\naxios.defaults.baseURL = 'http://localhost:8080/flora/';\n/**\r\n * 响应拦截\r\n */\n\naxios.interceptors.response.use(function (response) {\n  tryHideFullScreenLoading();\n  return response.data;\n}, function (error) {\n  tryHideFullScreenLoading();\n  return Promise.reject(error);\n});\nexport default axios;",{"version":3,"sources":["D:\\asus\\FILE\\2023计算机设计大赛\\项目源码\\numshop_admin\\src\\utils\\http.js"],"names":["axios","qs","Message","Vue","loading","startLoading","prototype","$loading","lock","text","target","document","querySelector","endLoading","close","needLoadingRequestCount","showFullScreenLoading","tryHideFullScreenLoading","defaults","timeout","withCredentials","headers","transformRequest","data","stringify","interceptors","request","use","config","error","Promise","reject","baseURL","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,SAASC,OAAT,QAAwB,YAAxB;AACA,OAAOC,GAAP,MAAgB,KAAhB,C,CAEA;;AACA,IAAIC,OAAJ;;AACA,SAASC,YAAT,GAAwB;AACtBD,EAAAA,OAAO,GAAGD,GAAG,CAACG,SAAJ,CAAcC,QAAd,CAAuB;AAC/BC,IAAAA,IAAI,EAAE,IADyB;AAE/BC,IAAAA,IAAI,EAAE,YAFyB;AAG/BC,IAAAA,MAAM,EAAEC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAHuB,CAGgB;;AAHhB,GAAvB,CAAV;AAKD;;AACD,SAASC,UAAT,GAAsB;AACpBT,EAAAA,OAAO,CAACU,KAAR;AACD,C,CAED;;;AACA,IAAIC,uBAAuB,GAAG,CAA9B;;AACA,SAASC,qBAAT,GAAiC;AAC7B,MAAID,uBAAuB,KAAK,CAAhC,EAAmC;AAC/BV,IAAAA,YAAY;AACf;;AACDU,EAAAA,uBAAuB;AAC1B;;AAAA;;AACD,SAASE,wBAAT,GAAoC;AAChC,MAAIF,uBAAuB,IAAI,CAA/B,EAAkC;AAClCA,EAAAA,uBAAuB;;AACvB,MAAIA,uBAAuB,KAAK,CAAhC,EAAmC;AACjCF,IAAAA,UAAU;AACX;AACJ;;AAAA,C,CACD;;AACAb,KAAK,CAACkB,QAAN,CAAeC,OAAf,GAAyB,KAAzB,C,CACA;;AACAnB,KAAK,CAACkB,QAAN,CAAeE,eAAf,GAAiC,KAAjC,C,CACA;;AACApB,KAAK,CAACkB,QAAN,CAAeG,OAAf,CAAuB,cAAvB,IAAyC,mCAAzC;;AACArB,KAAK,CAACkB,QAAN,CAAeI,gBAAf,GAAkC,UAAAC,IAAI;AAAA,SAAItB,EAAE,CAACuB,SAAH,CAAaD,IAAb,CAAJ;AAAA,CAAtC;;AACAvB,KAAK,CAACyB,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACxCZ,EAAAA,qBAAqB;AACrB,SAAOY,MAAP;AACA,CAHD,EAGG,UAAAC,KAAK,EAAI;AACXZ,EAAAA,wBAAwB;AACxB,SAAOa,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CAND;AAOA7B,KAAK,CAACkB,QAAN,CAAec,OAAf,GAAyB,8BAAzB;AACA;;;;AAGAhC,KAAK,CAACyB,YAAN,CAAmBQ,QAAnB,CAA4BN,GAA5B,CAAgC,UAAAM,QAAQ,EAAI;AAC3ChB,EAAAA,wBAAwB;AACxB,SAAOgB,QAAQ,CAACV,IAAhB;AACA,CAHD,EAGG,UAAAM,KAAK,EAAI;AACXZ,EAAAA,wBAAwB;AACxB,SAAOa,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CAND;AAOA,eAAe7B,KAAf","sourcesContent":["import axios from 'axios'\r\nimport qs from 'qs'\r\n\r\nimport { Message } from 'element-ui'\r\nimport Vue from 'vue'\r\n\r\n// loading框设置局部刷新，且所有请求完成后关闭loading框\r\nlet loading\r\nfunction startLoading() {\r\n  loading = Vue.prototype.$loading({\r\n    lock: true,\r\n    text: 'Loading...',\r\n    target: document.querySelector('.loading-area')//设置加载动画区域\r\n  })\r\n}\r\nfunction endLoading() {\r\n  loading.close()\r\n}\r\n \r\n//声明一个对象用于存储请求个数\r\nlet needLoadingRequestCount = 0\r\nfunction showFullScreenLoading() {\r\n    if (needLoadingRequestCount === 0) {\r\n        startLoading()\r\n    }\r\n    needLoadingRequestCount++\r\n};\r\nfunction tryHideFullScreenLoading() {\r\n    if (needLoadingRequestCount <= 0) return\r\n    needLoadingRequestCount--\r\n    if (needLoadingRequestCount === 0) {\r\n      endLoading()\r\n    }\r\n};\r\n// 超时时间\r\naxios.defaults.timeout = 30000\r\n// 跨域请求，允许保存cookie\r\naxios.defaults.withCredentials = false\r\n//axios.defaults.headers = { 'Content-Type': 'application/json; charset=utf-8' }\r\naxios.defaults.headers['Content-Type'] = 'application/x-www-form-urlencoded'\r\naxios.defaults.transformRequest = data => qs.stringify(data)\r\naxios.interceptors.request.use(config => {\r\n\tshowFullScreenLoading()\r\n\treturn config\r\n}, error => {\r\n\ttryHideFullScreenLoading()\r\n\treturn Promise.reject(error)\r\n})\r\naxios.defaults.baseURL = 'http://localhost:8080/flora/'\r\n/**\r\n * 响应拦截\r\n */\r\naxios.interceptors.response.use(response => {\r\n\ttryHideFullScreenLoading()\r\n\treturn response.data\r\n}, error => {\r\n\ttryHideFullScreenLoading()\r\n\treturn Promise.reject(error)\r\n})\r\nexport default axios\r\n"]}]}