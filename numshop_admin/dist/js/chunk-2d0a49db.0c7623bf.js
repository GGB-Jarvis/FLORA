(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a49db"],{"06cb":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.onAdd}},[t._v("新增\n\t")]),e("el-table",{attrs:{data:t.pageInfo.rows,border:"","highlight-current-row":""}},[e("el-table-column",{attrs:{prop:"id",label:"ID"}}),e("el-table-column",{attrs:{prop:"imageurl",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{attrs:{src:t.row.imageurl,alt:"",fit:"contain"}})]}}])}),e("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n\t\t\t\t"+t._s(1==a.row.status?"启用":"禁用")+"\n\t\t\t")]}}])}),e("el-table-column",{attrs:{prop:"createtime",label:"创建时间"}}),e("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.onTableUpdate(a.row)}}},[t._v("修改")]),e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.onTableDelete(a.row)}}},[t._v("删除")])]}}])})],1),e("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{background:"","current-page":t.searchFormData.pageIndex,"page-size":t.searchFormData.pageSize,"page-sizes":[5,10,20,40],total:t.pageInfo.total,layout:"total, sizes, prev, pager, next"},on:{"size-change":t.onSizeChange,"current-change":t.onPageIndexChange}}),e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(a){t.dialogVisible=a},close:function(a){return t.resetForm("dialogForm")}}},[e("el-form",{ref:"dialogForm",attrs:{rules:t.dialogFormRules,model:t.dialogFormData,"label-width":"120px",size:"mini"}},[e("el-form-item",{attrs:{prop:"imageurl",label:"图片"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://artvery.txwsyun.cn:8080/numshop/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.dialogFormData.imageurl?e("img",{staticClass:"avatar",attrs:{src:t.dialogFormData.imageurl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",{attrs:{prop:"status",label:"状态"}},[e("el-radio-group",{model:{value:t.dialogFormData.status,callback:function(a){t.$set(t.dialogFormData,"status",a)},expression:"dialogFormData.status"}},[e("el-radio",{attrs:{label:"1"}},[t._v("启用")]),e("el-radio",{attrs:{label:"2"}},[t._v("禁用")])],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.onDialogSave}},[t._v("保 存")])],1)],1)],1)},i=[],l=e("bc3a"),r=e.n(l),s=(r.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_API,timeout:6e4}),{data:function(){return{searchFormData:{id:"",imageurl:"",status:"",createtime:"",pageIndex:1,pageSize:10},pageInfo:{rows:[],total:0},dialogVisible:!1,dialogTitle:"",dialogFormData:{id:"",imageurl:"",status:"",createtime:""},dialogFormRules:{id:[{required:!0,message:"不能为空",trigger:"blur"}],imageurl:[{required:!0,message:"不能为空",trigger:"blur"}],status:[{required:!0,message:"不能为空",trigger:"blur"}],createtime:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created:function(){this.loadTable()},methods:{handleAvatarSuccess:function(t,a){this.imageUrl=URL.createObjectURL(a.raw),this.dialogFormData.imageurl=t},loadTable:function(){var t=this;this.$http.post("/slideshow/list",this.searchFormData).then(function(a){t.pageInfo.rows=a}),this.$http.post("/slideshow/total",this.searchFormData).then(function(a){t.pageInfo.total=a})},onTableUpdate:function(t){var a=this;this.dialogTitle="修改",this.dialogVisible=!0,this.$nextTick(function(){Object.assign(a.dialogFormData,t)})},onTableDelete:function(t){var a=this;this.$confirm("确认要删除该记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={id:t.id};a.$http.post("/slideshow/del",e).then(function(){a.$alert("删除成功"),a.loadTable()})})},onDialogSave:function(){var t=this;this.$refs.dialogForm.validate(function(a){if(a){var e=t.dialogFormData.id?"/slideshow/update":"/slideshow/add";t.$http.post(e,t.dialogFormData).then(function(){t.dialogVisible=!1,t.loadTable()})}})},onSizeChange:function(t){this.searchFormData.pageSize=t,this.loadTable()},onAdd:function(){this.dialogTitle="新增",this.dialogVisible=!0,this.dialogFormData.id=0},onPageIndexChange:function(t){this.searchFormData.pageIndex=t,this.loadTable()}}}),n=s,c=e("2877"),u=Object(c["a"])(n,o,i,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0a49db.0c7623bf.js.map